<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>dv-router.js</title>
        
        <!-- javascript -->
        <script src="./dv-router.js" type="text/javascript"></script>
        <script>
        var routes = {
            '': {
                'controller': 'getHome'
            },
            'test/{id}': {
                'controller': 'getTest',
            },
            'about': {
                'controller': 'getAbout'
            },
            'about/{topic}': {
                'controller': 'getAboutTopic'
            }
        }
        var router = new dvRouter(routes);

        function getHome(params) {
            page.innerHTML = 'This is the home page. Click the links above!';
        }
        function getTest(params) {
            page.innerHTML = 'Test page opened with id: ' + params.id;
        }
        function getAbout(params) {
            page.innerHTML = 'dv-router.js is a simple javascript single-page router. This example is done in pure js but ideally you would use it together with jQuery.<br /><br /><a href="./#/about/topic-1">About topic 1</a> - <a href="./#/about/another-topic">About another topic</a>';
        }
        function getAboutTopic(params) {
            page.innerHTML = 'about topic: ' + params.topic + '<br /><br /><a href="./#/about">back to about</a>';
        }
        </script>
        <style>
            .page {
                border: 1px solid grey;
                padding: 1em;
            }
        </style>
        
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    </head>
    
    <body>
    
        <header>
            <h1>dv-router.js example</h1>
        </header>
    
        <nav>
            <a href="./#/">home</a>
            <a href="./#/test/34">test (param id:34)</a>
            <a href="./#/test/80">test (param id:80)</a>
            <a href="./#/about">about</a>
        </nav>
        <br />
        <div class="page">
        
        </div>
        
        <script>
            var pages = document.getElementsByClassName('page');
            var page = pages[0];
            // initial routing
            if (!router.route(window.location.hash)) {
                page.innerHTML = '404 - page not found';
            }
            // and on every hash change, more routing
            window.onhashchange = function () {
                if (!router.route(window.location.hash)) {
                    page.innerHTML = '404 - page not found';
                }
            }
        </script>
    </body>

</html>
